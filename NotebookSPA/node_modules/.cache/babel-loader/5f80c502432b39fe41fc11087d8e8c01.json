{"remainingRequest":"E:\\前端\\NotebookSPA\\NotebookSPA\\node_modules\\thread-loader\\dist\\cjs.js!E:\\前端\\NotebookSPA\\NotebookSPA\\node_modules\\babel-loader\\lib\\index.js!E:\\前端\\NotebookSPA\\NotebookSPA\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\前端\\NotebookSPA\\NotebookSPA\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\前端\\NotebookSPA\\NotebookSPA\\src\\pages\\TheItemList.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\前端\\NotebookSPA\\NotebookSPA\\src\\pages\\TheItemList.vue","mtime":1607522139528},{"path":"E:\\前端\\NotebookSPA\\NotebookSPA\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1604303186290},{"path":"E:\\前端\\NotebookSPA\\NotebookSPA\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1604303177903},{"path":"E:\\前端\\NotebookSPA\\NotebookSPA\\node_modules\\babel-loader\\lib\\index.js","mtime":1604303222147},{"path":"E:\\前端\\NotebookSPA\\NotebookSPA\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1604303186290},{"path":"E:\\前端\\NotebookSPA\\NotebookSPA\\node_modules\\vue-loader\\lib\\index.js","mtime":1604303214890}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      isshow: false,\n      items: [],\n      updated: {\n        updateid: \"\",\n        item_text: \"\",\n        amount: 0,\n        date_paid: \"2020-1-1\"\n      }\n    };\n  },\n  mounted: function mounted() {\n    var self = this; // react to route changes...\n    // don't forget to call next()\n\n    this.$axios.get('servlet/ItemListServlet', {\n      params: {\n        userid: self.$store.state.user.id\n      }\n    }).then(function (response) {\n      console.log(response);\n      self.items = response.data;\n    }).catch(function (error) {\n      alert(error);\n    });\n  },\n  beforeRouteUpdate: function beforeRouteUpdate(to, from, next) {\n    var self = this; // react to route changes...\n    // don't forget to call next()\n\n    this.$axios.get('servlet/ItemListServlet', {\n      params: {\n        userid: self.$store.state.user.id\n      }\n    }).then(function (response) {\n      console.log(resposne);\n      self.items = response.data;\n    }).catch(function (error) {\n      alert(error);\n    });\n    next();\n  },\n  methods: {\n    item_del: function item_del(id) {\n      var del = {\n        del_id: id\n      };\n      var self = this;\n      this.$axios.get('servlet/ItemDeleteServlet', {\n        params: del\n      }).then(function (response) {\n        console.log(response);\n\n        if (response.data > 0) {\n          alert(\"Delete Ok!\");\n          self.$router.push({\n            path: \"/item_list\",\n            params: {\n              userid: self.$store.state.user.id\n            }\n          });\n        } else {\n          alert(\"Delete not ok!\");\n        }\n      }).catch(function (error) {\n        if (error.request) {\n          alert(error.request);\n        }\n\n        alert(error);\n        console.log(error.message);\n        console.log(error.config);\n      });\n    },\n    item_update: function item_update(id) {\n      var self = this;\n      alert(\"update item, id = \" + id);\n      this.updated.updateid = id;\n      self.isshow = !this.isshow;\n    },\n    update: function update() {\n      var self = this;\n      var item_id = this.updated.updateid;\n      alert(\"update item, id = \" + item_id);\n      var item_text = this.updated.item_text;\n      var amount = this.updated.amount;\n      var date_paid = this.updated.date_paid;\n      this.$axios.get('servlet/ItemUpdateServlet', {\n        params: {\n          item_id: item_id,\n          item_text: item_text,\n          amount: amount,\n          date_paid: date_paid\n        }\n      }).then(function (response) {\n        console.log(response);\n\n        if (response.data > 0) {\n          alert(\"update Ok!\");\n          self.$router.push({\n            path: \"/item_list\",\n            params: {\n              userid: self.$store.state.user.id\n            }\n          });\n        } else {\n          alert(\"update not ok!\");\n        }\n      }).catch(function (error) {\n        if (error.request) {\n          alert(error.request);\n        }\n\n        alert(error);\n        console.log(error.message);\n        console.log(error.config);\n      });\n    }\n  }\n};",{"version":3,"sources":["TheItemList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<h2>Item List</h2>\r\n\t\t<table id=\"table1\" class=\"table table-hover\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td>序</td>\r\n\t\t\t\t<td>支出项目</td>\r\n\t\t\t\t<td>分类</td>\r\n\t\t\t\t<td>金额</td>\r\n\t\t\t\t<td>日期</td>\r\n\t\t\t\t<td>操作</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr v-for=\"(item,index) in items\" v-bind:key=\"item.id\">\r\n\t\t\t\t<td>{{index}}</td>\r\n\t\t\t\t<td>{{item.item_text}}</td>\r\n\t\t\t\t<td>{{item.category_text}}</td>\r\n\t\t\t\t<td>{{item.amount}}</td>\r\n\t\t\t\t<td>{{item.date_paid}}</td>\r\n\t\t\t\t<td><button class='btn btn-info' v-on:click=\"item_update(item.id)\">修改</button>&nbsp;&nbsp;\r\n\t\t\t\t\t<button class=\"btn btn-danger\" v-on:click=\"item_del(item.id)\">删除</button></td>\r\n\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t\t<div v-show=\"isshow\" class=\"tab-pane\">\r\n\t\t\t<h3>修改</h3>\r\n\t\t\t<div>\r\n\t\t\t\t<label>开支项目</label>\r\n\t\t\t\t<input type=\"text\" v-model=\"updated.item_text\" class=\"form-control\" />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<label>消费金额</label>\r\n\t\t\t\t<input type=\"text\" v-model=\"updated.amount\" class=\"form-control\" />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<label>消费日期</label>\r\n\t\t\t\t<input type=\"date\" v-model=\"updated.date_paid\" class=\"form-control\" value='2020-01-01' />\r\n\t\t\t</div>\r\n\t\t\t<button class=\"btn btn-primary btn-block\" v-on:click=\"update()\">修改</button>\r\n\t\t</div>\r\n\t\t<h3>修改、删除之后要点到其他页面，再回来才会刷新</h3>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata: function() {\r\n\t\t\treturn {\r\n\t\t\t\tisshow: false,\r\n\t\t\t\titems: [],\r\n\t\t\t\tupdated: {\r\n\t\t\t\t\tupdateid:\"\",\r\n\t\t\t\t\titem_text: \"\",\r\n\t\t\t\t\tamount: 0,\r\n\t\t\t\t\tdate_paid: \"2020-1-1\",\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted: function() {\r\n\t\t\tvar self = this;\r\n\t\t\t// react to route changes...\r\n\t\t\t// don't forget to call next()\r\n\t\t\tthis.$axios.get('servlet/ItemListServlet', {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tuserid: self.$store.state.user.id,\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(function(response) {\r\n\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\tself.items = response.data;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\talert(error);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tbeforeRouteUpdate: function(to, from, next) {\r\n\t\t\tvar self = this;\r\n\t\t\t// react to route changes...\r\n\t\t\t// don't forget to call next()\r\n\t\t\tthis.$axios.get('servlet/ItemListServlet', {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tuserid: self.$store.state.user.id,\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(function(response) {\r\n\t\t\t\t\tconsole.log(resposne);\r\n\t\t\t\t\tself.items = response.data;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\talert(error);\r\n\t\t\t\t});\r\n\t\t\tnext();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\titem_del: function(id) {\r\n\t\t\t\tvar del = {\r\n\t\t\t\t\tdel_id: id\r\n\t\t\t\t}\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tthis.$axios.get('servlet/ItemDeleteServlet', {\r\n\t\t\t\t\t\tparams: del\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\tif (response.data > 0) {\r\n\t\t\t\t\t\t\talert(\"Delete Ok!\");\r\n\t\t\t\t\t\t\tself.$router.push({\r\n\t\t\t\t\t\t\t\tpath: \"/item_list\",\r\n\t\t\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\t\t\tuserid: self.$store.state.user.id,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\talert(\"Delete not ok!\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tif (error.request) {\r\n\t\t\t\t\t\t\talert(error.request);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\talert(error);\r\n\t\t\t\t\t\tconsole.log(error.message);\r\n\t\t\t\t\t\tconsole.log(error.config);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\titem_update: function(id) {\r\n\t\t\t\tvar self = this;\r\n\t\t\t\talert(\"update item, id = \" + id);\r\n\t\t\t\tthis.updated.updateid = id;\r\n\t\t\t\tself.isshow = !this.isshow;\r\n\r\n\t\t\t},\r\n\t\t\tupdate: function() {\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tvar item_id = this.updated.updateid;\r\n\t\t\t\talert(\"update item, id = \" + item_id);\r\n\t\t\t\tvar item_text = this.updated.item_text;\r\n\t\t\t\tvar amount = this.updated.amount;\r\n\t\t\t\tvar date_paid = this.updated.date_paid;\r\n\t\t\t\tthis.$axios.get('servlet/ItemUpdateServlet', {\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\titem_id,\r\n\t\t\t\t\t\t\titem_text,\r\n\t\t\t\t\t\t\tamount,\r\n\t\t\t\t\t\t\tdate_paid,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\tif (response.data > 0) {\r\n\t\t\t\t\t\t\talert(\"update Ok!\");\r\n\t\t\t\t\t\t\tself.$router.push({\r\n\t\t\t\t\t\t\t\tpath: \"/item_list\",\r\n\t\t\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\t\t\tuserid: self.$store.state.user.id,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\talert(\"update not ok!\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tif (error.request) {\r\n\t\t\t\t\t\t\talert(error.request);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\talert(error);\r\n\t\t\t\t\t\tconsole.log(error.message);\r\n\t\t\t\t\t\tconsole.log(error.config);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\n"],"sourceRoot":"src/pages"}]}